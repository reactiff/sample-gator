(this["webpackJsonpsample-gator-example"]=this["webpackJsonpsample-gator-example"]||[]).push([[0],{35:function(e,t,n){e.exports=n(62)},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(3),s=n.n(a),o=(n(40),n(41),n(42),n(4)),c=n(13);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e,t,n,r){var i=e.availableLength||0,a=Math.min(i,n),s={},o=e.track,c=e.field;return o.lifo((function(e){s.current=o.array[e.index][c],"undefined"!==typeof s.current&&("undefined"===typeof s.best||s.current<s.best)&&(s.best=s.current)}),r||0,a),s.best},d=function(e,t,n,r){var i=e.availableLength||0,a=Math.min(i,n),s={},o=e.track,c=e.field;return o.lifo((function(e){s.current=o.array[e.index][c],"undefined"!==typeof s.current&&("undefined"===typeof s.best||s.current>s.best)&&(s.best=s.current)}),r||0,a),s.best},p=function(e,t,n,r){var i=e.availableLength||0,a=Math.min(i,n),s=0,o=0,c=e.track,u=e.field;if(c.lifo((function(e){s+=c.array[e.index][u],o++}),r||0,a),0!==o)return s/o},m=function(e,t,n,r,i){var a=e.availableLength||0,s=Math.min(a,n),o=e.track,c=e.field;o.lifo((function(e){i(e,o.array[e.index][c])}),r||0,s)},v=function(e,t,n,r){var i=e.mean(n,r),a=0,s=0;if(e.fn(n,r||0,(function(e,t){a+=Math.pow(t-i,2),s++})),0!==s)return Math.sqrt(a/s)};function y(e,t,n){return function(r,i){if(void 0===i&&(i=0),i>0)throw new Error("offset must be negative");return n(e,t,r,i)}}var g=function(){function e(e){var t=this;this.track=e.track,this.field=e.field,this.min=y(this,e,h),this.max=y(this,e,d),this.mean=y(this,e,p),this.fn=function(e,t,n){return function(r,i,a){if(void 0===i&&(i=0),i>0)throw new Error("offset must be negative");return n(e,t,r,i,a)}}(this,e,m),this.stDev=y(this,e,v),this.value=function(e){if(void 0===e&&(e=0),0!==t.getOffsetAdjAvailableLength(e))return t.track.get(e)[t.field]}}return e.prototype.getOffsetAdjAvailableLength=function(e){return Math.max(0,Math.min(this.track.array.length,this.track.counter+1)-Math.abs(e))},e.createSerie=function(t,n){return new e({field:t,track:n})},f(e,[{key:"availableLength",get:function(){return this.getOffsetAdjAvailableLength(0)}}]),e}();function b(e){var t=[].concat(e.sampler.fields.publicKeys,e.sampler.fields.expressionKeys);e.serieInstances={};var n={};t.forEach((function(t){n[t]=function(){return e.serieInstances[t]||(e.serieInstances[t]=g.createSerie(t,e)),e.serieInstances[t]}}));var r={get:function(e,t,n){try{return e[t]()}catch(r){throw new Error("Tried to access a non-existent Serie: '"+t+"'")}}};e.series=new Proxy(n,r)}function k(e){e.counter++,e.cursor++,e.cursor===e.array.length&&(e.cursor=0)}function x(e,t,n){if(n&&e.counter+1===e.length)return!1;var r=t||e.current[e.sampler.timeKey];return e.sampler.interval>0&&function(e,t){var n=1;e.sampler.suppressAutoSampling&&(n=0);if(e.sampler.interval>0&&e.lastPeriodTime){var r=(t-e.lastPeriodTime)/e.sampler.interval-n;if(r>0)for(var i=0;i<r;i++){var a=e.lastPeriodTime+e.sampler.interval;k(e),Object.assign(e.array[e.cursor],e.sampler.blank),e.array[e.cursor][e.sampler.timeKey]=a;var s=e.get(-1);e.sampler.ffill(e.array[e.cursor],s),e.lastPeriodTime=a}}}(e,r),k(e),Object.assign(e.array[e.cursor],e.sampler.blank),e.array[e.cursor][e.sampler.timeKey]=r,e.lastPeriodTime=r,!0}var E=function(){function e(e,t){this.key="",this.tags={},this.array=[],this.cursor=0,this.counter=0,this.lastPeriodTime=0,this.serieInstances={},this.series={};var n={length:e};this.sampler=t,this.array=Array.from(n).map(this.sampler.createSample),this.cursor=e?0:-1,b(this)}var t=e.prototype;return t.preload=function(e){return function(e,t){var n=e.sampler.getSampleTime(t[e.sampler.timeKey]);if(e.lastPeriodTime){if(e.sampler.newSamplePredicate(e.current,t,n,e.lastPeriodTime)&&!x(e,n,!0))return!1}else e.lastPeriodTime=n;return e.sampler.collect(e,e.current,t,n),!0}(this,e)},t.capture=function(e){!function(e,t){var n=e.sampler.getSampleTime(t[e.sampler.timeKey]);e.lastPeriodTime?e.sampler.newSamplePredicate(e.current,t,n,e.lastPeriodTime)&&x(e,n,!1):e.lastPeriodTime=n,e.sampler.collect(e,e.current,t,n),e.onUpdate&&e.onUpdate()}(this,e)},t.lifo=function(e,t,n){void 0===n&&(n=-1);for(var r=Math.abs(t||0),i=n>=0?Math.abs(n):0,a=this.array.length-r,s={index:this.cursor-r,relative:0,ordinal:0},o=this.array.length;o--&&!(r&&s.ordinal>=a)&&!(n>=0&&s.ordinal>=i);)s.index<0&&(s.index=this.array.length-1),e(s,this.array),s.ordinal++,s.index--,s.relative--},t.fifo=function(e,t){void 0===t&&(t=-1);for(var n=this.array.length,r=t>=0?t:n,i={index:0,relative:-(n-1),ordinal:0},a=n;a--&&r--;)i.index=(n+this.cursor-a)%n,e(i,this.array),i.ordinal++,i.relative++},t.get=function(e){return void 0===e&&(e=0),this.array[this.getIndex(e)]},t.getIndex=function(e){void 0===e&&(e=0);var t=this.cursor+e;if(e>0)return t%this.array.length;for(;t<0;)t=this.array.length+t;return t},f(e,[{key:"length",get:function(){return this.array.length}},{key:"current",get:function(){return this.array[this.cursor]}}]),e}();function w(e,t,n){e.keys.push(t),"_"===t[0]&&"_"!==t[1]?(e.hidden[t]=!0,e.hiddenKeys.push(t)):e.publicKeys.push(t),"function"===typeof n?e.fn[t]=n:"object"===typeof n?(n.cumulative&&(e.cumulative[t]=!0),e.fn[t]=n.fn,e.fill[t]=n.fill):e.fn[t]=function(){return n}}function K(e,t){var n={keys:[],publicKeys:[],hiddenKeys:[],expressionKeys:[],ffills:[],hidden:{},cumulative:{},fn:{},fill:{}};return Array.isArray(e.fields)?function(e,t){t.fields.forEach((function(t){switch(typeof t){case"string":w(e,t,(function(e){return e[t]}));break;default:w(e,t.name,t)}}))}(n,e):function(e,t){Object.entries(t.fields).forEach((function(t){var n=t[0],r=t[1];w(e,n,r)}))}(n,e),t.forEach((function(e){n.expressionKeys.push(e.name)})),n}function T(e){var t={__count:0};return e.publicKeys.forEach((function(e){t[e]=void 0})),e.expressionKeys.forEach((function(e){t[e]=void 0})),function(){return l({},t)}}var O=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e};function j(e){var t=K(e,[]),n={addExpression:function(e,t){if(n.expressionDict[e])throw new Error("A field with the name '"+e+"' already exists.");n.expressionDict[e]=t,n.expressions.push({name:e,expression:t}),r()},blank:{},bufferLength:e.bufferLength,collect:function(e,t,n,r){return s(t,n),a(t,e),!0},createSample:T(t),cumulatives:[],expressionDict:{},expressions:[],ffill:function(e,t){e[n.timeKey]=t[n.timeKey]+n.interval,n.fields.ffills.forEach((function(n){e[n.key]=n.fn(e,t[n.key])})),e.__count=-1},fields:t,getSampleTime:i,interval:e.interval||0,newSamplePredicate:function(e,t,r,i){return 0===n.interval||r-i>=n.interval},series:{},suppressAutoSampling:e.suppressAutoSampling,timeKey:O(e.timeKey)||"time",trackKeys:e.trackKeys||[],tracks:[]},r=function(){n.fields=K(e,n.expressions),n.createSample=T(n.fields),n.cumulatives=n.fields.keys.filter((function(e){return n.fields.cumulative[e]}));var t=n.createSample();n.blank=function(e,t){var n=l({},e);return t.forEach((function(e){return delete n[e]})),n}(t,n.cumulatives),n.tracks.forEach((function(e){return b(e)})),n.fields.ffills=n.fields.publicKeys.filter((function(e){return!!n.fields.fill[e]})).map((function(e){return{key:e,fn:n.fields.fill[e]}}))};function i(e){return n.interval?e-e%n.interval:e}function a(e,t){n.expressions.forEach((function(n){var r=n.expression(t.series);"undefined"!==typeof r&&(e[n.name]=r)}))}function s(e,t,r){e.__count++,n.fields.hiddenKeys.forEach((function(r){n.fields.fn[r](t,e[r],e)})),n.fields.publicKeys.forEach((function(r){if(r===n.timeKey)e[n.timeKey]||(e[n.timeKey]=i(t[r]));else{var a=n.fields.fn[r](t,e[r],e);"undefined"!==typeof a&&(e[r]=a)}}))}return r(),n}function S(e,t){return"undefined"!==typeof e?e:t}var I=function(){function e(e){this.tracks={},this.sampling=!1,this.sampler=j(e)}var t=e.prototype;return t.addExpression=function(e,t){this.sampler.addExpression(e,t)},t.getTracks=function(e){return Object.entries(this.tracks).filter((function(t){return(e||function(){return!0})(t[0],t[1])})).map((function(e){return e[1]}))},t.startSampling=function(){if(!this.sampler.suppressAutoSampling&&!this.sampling){var e=this;this.timer=setInterval((function(){e.sampler.tracks.forEach((function(e){x(e)})),e.onInterval&&e.onInterval()}),this.sampler.interval),this.sampling=!0}},t.stopSampling=function(){clearInterval(this.timer),this.sampling=!1},t.preload=function(e){var t=this.getOrCreateTrack(e).preload(e);return t||this.onLoad&&this.onLoad(),t},t.capture=function(e,t){this.getOrCreateTrack(e).capture(e)},t.getOrCreateTrack=function(e){var t=this.sampler,n=t.trackKeys.map((function(t){return S(e[t],"")})).join(".");if(!this.tracks[n]){var r=new E(t.bufferLength,t);t.trackKeys.forEach((function(t){return r.tags[t]=e[t]})),r.key=n,this.tracks[n]=r,t.tracks.push(r),this.onTrackStart&&this.onTrackStart(r)}return this.tracks[n]},e}(),L=(Math.min,Math.max,Math.abs,I),M=n(28),A=function(){return Math.round(1e3*Math.random())},P={time:{fn:function(e){return e.time}},price:{fn:function(e){return e.price},fill:function(e,t){return t}},qty:{fn:function(e){return e.qty},fill:function(e,t){return t}},exch:{fn:function(e){return e.exch},fill:function(e,t){return t}}},D=["exch"],_={},U=new M.a(1,1e3,500,10,10),q="A1".split(","),F={onLoad:void 0,onIntervalData:void 0,onTrackUpdate:void 0},C={},B={},J={},H=[],W=function(e){Object.assign(F,e);var t=new L({interval:1e3,bufferLength:15,trackKeys:D,fields:P}),n=t.sampler.createSample();Object.assign(C,n),Object.entries(_).forEach((function(e){var n=Object(c.a)(e,2),r=n[0],i=n[1];return t.addExpression(r,i)})),t.onTrackStart=function(e){B[e.key]=new Array(15),H.push(e),J[e.key]=Object.keys(e.series),e.onUpdate=function(){F.onTrackUpdate&&F.onTrackUpdate(e)}},t.onInterval=function(){return F.onIntervalData&&F.onIntervalData()},t.onLoad=function(){return F.onLoad&&F.onLoad()},function(e,t){t.time=(new Date).getTime();do{t.time+=Object(o.b)(A),t.price=U.next(),t.qty=Math.round(100*Math.random()-50);var n=Math.round(Math.random()*(q.length-1)),r=q[n];t.exch=r}while(e.preload(t))}(t,C),F.onIntervalData&&F.onIntervalData()},z=n(29),G={border:"thin solid white",margin:0,padding:8,"& table tr td":{paddingBottom:8},"& table tr td:first-of-type":{textAlign:"left"}},N=function(e){var t=e.data,n=Object.keys(t);return i.a.createElement(o.a.row,{css:{flexWrap:"wrap"}},n.map((function(e,n){var r=t[e];return i.a.createElement(o.a.col,{key:e,css:G,grow:!0},i.a.createElement(o.a.table,{cols:Object(z.a)(r.columns),items:r.array}))})))},Q=function(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=function(){var e={};H.forEach((function(t){var n=new Array(t.length);t.fifo((function(e,t){n[e.ordinal]=t[e.index]})),e[t.key]={array:n,columns:J[t.key]}})),a(e)};W({onLoad:function(){return e()},onIntervalData:function(){},onTrackUpdate:function(){return e()}})}),[]),n?i.a.createElement(N,{data:n}):null},R=function(){var e={demo2:i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Demo 2 - Load unsampled HF data"),i.a.createElement(Q,null))},t=Object.keys(e);return i.a.createElement(o.a.tabs,{items:t,keyForItem:function(e){return e},elementForItem:function(t){return e[t]}})};s.a.render(i.a.createElement(R,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.5c3152fd.chunk.js.map